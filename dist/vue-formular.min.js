!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.VueFormular=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){module.exports=function(){return this.errors.length?"remove":this.success?"ok":""}},{}],2:[function(require,module,exports){module.exports=function(){return this.errors.length||this.success}},{}],3:[function(require,module,exports){module.exports=function(){return this.hadErrors&&!this.errors.length}},{}],4:[function(require,module,exports){module.exports=function(){return{"VF-Field--required":this.rules.required,"has-error":this.errors.length,"has-feedback":this.hasFeedback,"has-success":this.success}}},{}],5:[function(require,module,exports){module.exports=function(){return this.errors.length?this.getMessage(this.errors[0]):""}},{}],6:[function(require,module,exports){var render_template=require("../../helpers/render-template"),props=require("../mixins/props"),data=require("../mixins/data"),methods=require("../mixins/methods"),computed=require("../mixins/computed"),ready=require("../mixins/ready");module.exports={template:render_template("form-group",{field:render_template("buttons-list"),fieldType:"List"}),props:{items:{type:Array,required:!0},multiple:{type:Boolean,required:!1,"default":!1},value:{required:!1,"default":function(){return[]}}},mixins:[props,data,methods,computed,ready],computed:{type:function(){return this.multiple?"checkbox":"radio"}}}},{"../../helpers/render-template":29,"../mixins/computed":19,"../mixins/data":20,"../mixins/methods":21,"../mixins/props":22,"../mixins/ready":23}],7:[function(require,module,exports){var render_template=require("../../helpers/render-template"),props=require("../mixins/props"),data=require("../mixins/data"),methods=require("../mixins/methods"),computed=require("../mixins/computed"),ready=require("../mixins/ready");module.exports={template:render_template("form-group",{field:render_template("checkbox"),fieldType:"Checkbox"}),props:{checked:{type:Boolean,required:!1,"default":!1}},ready:function(){this.value=this.checked},data:function(){return{initialValue:this.checked}},mixins:[props,data,methods,computed,ready]}},{"../../helpers/render-template":29,"../mixins/computed":19,"../mixins/data":20,"../mixins/methods":21,"../mixins/props":22,"../mixins/ready":23}],8:[function(require,module,exports){var render_template=require("../../helpers/render-template"),merge=require("merge"),props=require("../mixins/props"),data=require("../mixins/data"),methods=require("../mixins/methods"),computed=require("../mixins/computed"),ready=require("../mixins/ready");module.exports={template:render_template("form-group",{field:render_template("date"),fieldType:"Date"}),props:{placeholder:{type:String,required:!1,"default":"Select Date"},format:{type:String,required:!1,"default":"DD/MM/YYYY"},range:{type:Boolean,required:!1,"default":!1},options:{type:Object,required:!1,"default":function(){return{}}}},ready:function(){if(this.value&&("string"==typeof this.value||this.value.hasOwnProperty("start")&&"string"==typeof this.value.start)&&(this.value=this.range?{start:moment(this.value.start,"YYYY-MM-DD"),end:moment(this.value.end,"YYYY-MM-DD")}:moment(this.value,"YYYY-MM-DD")),this.value){var value={startDate:this.range?this.value.start:this.value};this.range&&(value.endDate=this.value.endDate),this.options=merge.recursive(this.options,value)}var options=merge.recursive(this.options,{singleDatePicker:!this.range,showDropdowns:!0,locale:{format:this.format}});$(this.$el).find(".VF-Field--Date__datepicker").daterangepicker(options,function(start,end){this.value=this.range?{start:start,end:end}:start}.bind(this))},data:function(){return{}},computed:{formattedDate:function(){return this.value&&(this.range||this.value.format)&&(!this.range||this.value.start.format&&this.value.end.format)?this.range?this.value.start.format(this.format)+" - "+this.value.end.format(this.format):this.value.format(this.format):this.placeholder}},mixins:[props,data,methods,computed,ready]}},{"../../helpers/render-template":29,"../mixins/computed":19,"../mixins/data":20,"../mixins/methods":21,"../mixins/props":22,"../mixins/ready":23,merge:66}],9:[function(require,module,exports){var render_template=require("../../helpers/render-template"),props=require("../mixins/props"),data=require("../mixins/data"),methods=require("../mixins/methods"),computed=require("../mixins/computed"),ready=require("../mixins/ready");module.exports={template:render_template("form-group",{field:render_template("file"),fieldType:"File"}),mixins:[props,data,methods,computed,ready]}},{"../../helpers/render-template":29,"../mixins/computed":19,"../mixins/data":20,"../mixins/methods":21,"../mixins/props":22,"../mixins/ready":23}],10:[function(require,module,exports){var render_template=require("../../helpers/render-template"),props=require("../mixins/props"),data=require("../mixins/data"),methods=require("../mixins/methods"),computed=require("../mixins/computed"),ready=require("../mixins/ready");module.exports=function(template,replacements){return{template:render_template("form-group",{field:render_template(template,replacements),fieldType:replacements.type.ucfirst()}),ready:function(){var type=replacements.type;["number","email"].indexOf(type)>-1&&(this.rules[type]=!0)},mixins:[props,data,methods,computed,ready],props:{placeholder:{type:String,required:!1,"default":""}}}}},{"../../helpers/render-template":29,"../mixins/computed":19,"../mixins/data":20,"../mixins/methods":21,"../mixins/props":22,"../mixins/ready":23}],11:[function(require,module,exports){var render_template=require("../../helpers/render-template"),props=require("../mixins/props"),data=require("../mixins/data"),methods=require("../mixins/methods"),computed=require("../mixins/computed"),ready=require("../mixins/ready"),merge=require("merge");module.exports={template:render_template("form-group",{field:render_template("select"),fieldType:"Select"}),props:{items:{type:Array,required:!0},multiple:{type:Boolean,required:!1,"default":!1},select2:{required:!1,"default":!1},placeholder:{type:String,required:!1,"default":"Select Option"}},ready:function(){var that=this;if(this.select2&&"undefined"!=typeof $){var options={placeholder:this.placeholder};"object"==typeof this.select2&&(options=merge.recursive(this.select2,options)),$(this.$el).find("select").select2(options).on("change",function(val){that.value=$(this).val()})}},mixins:[props,data,methods,computed,ready]}},{"../../helpers/render-template":29,"../mixins/computed":19,"../mixins/data":20,"../mixins/methods":21,"../mixins/props":22,"../mixins/ready":23,merge:66}],12:[function(require,module,exports){var render_template=require("../../helpers/render-template"),props=require("../mixins/props"),data=require("../mixins/data"),methods=require("../mixins/methods"),computed=require("../mixins/computed"),ready=require("../mixins/ready");module.exports={template:render_template("form-group",{field:render_template("textarea"),fieldType:"Textarea"}),mixins:[props,data,methods,computed,ready],props:{placeholder:{type:String,required:!1,"default":""}}}},{"../../helpers/render-template":29,"../mixins/computed":19,"../mixins/data":20,"../mixins/methods":21,"../mixins/props":22,"../mixins/ready":23}],13:[function(require,module,exports){module.exports=function(item,show){var unique=!0;this.$parent.errors.forEach(function(error,i){error.name==item.name&&(this.$parent.errors[i].show=show,unique=!1)}.bind(this)),unique&&this.$parent.errors.push(item)}},{}],14:[function(require,module,exports){module.exports=function(rule){var messages=this.$parent.options.messages,message=this.messages[rule]?this.messages[rule]:messages[rule];["min","max","between"].indexOf(rule)>-1&&(message=this.rules.number||this.rules.integer?message.number:message.string);var params=this.rules[rule];if("object"==typeof params)params.forEach(function(param,index){message=message.replace("{"+index+"}",param)});else if(("number"==typeof params||"string"==typeof params)&&(message=message.replace("{0}",params),"string"==typeof params)){var relatedField=this.$parent.getField(params);relatedField&&(message=message.replace(":relatedField",relatedField.label))}return message=message.replace(":field",this.label?this.label:this.name)}},{}],15:[function(require,module,exports){module.exports=function(){return this.$parent&&this.$parent.isForm}},{}],16:[function(require,module,exports){module.exports=function(item){var index;this.$parent.errors.forEach(function(error,i){error.name==item.name&&error.rule==item.rule&&(index=i)}),index>=0&&this.$parent.errors.splice(index,1)}},{}],17:[function(require,module,exports){module.exports=function(){if(this.rules.remote){var formError={name:this.name,rule:"remote",show:!0};this.$http.get(this.rules.remote,{value:this.value}).then(function(data){var valid=data.data;valid?(this.errors.$remove("remote"),this.inForm()&&this.removeFormError(formError)):(-1==this.errors.indexOf("remote")&&this.errors.push("remote"),this.inForm()&&this.addFormError(formError,!0))})}}},{}],18:[function(require,module,exports){function shouldShow(that,rule){return!that.pristine||["greaterThan","smallerThan"].indexOf(rule)>-1}var validator={between:require("../../validation/rules/between.js"),digits:require("../../validation/rules/digits.js"),email:require("../../validation/rules/email.js"),greaterThan:require("../../validation/rules/greaterThan.js"),integer:require("../../validation/rules/integer.js"),max:require("../../validation/rules/max.js"),min:require("../../validation/rules/min.js"),number:require("../../validation/rules/number.js"),required:require("../../validation/rules/required.js"),requiredIf:require("../../validation/rules/requiredIf.js"),smallerThan:require("../../validation/rules/smallerThan.js"),url:require("../../validation/rules/url.js")},merge=require("merge");module.exports=function(){var formError,isValid;validator=merge.recursive(validator,this.$parent.options.customRules);for(var rule in this.rules)validator[rule]&&(isValid=!this.value&&"required"!=rule&&"requiredIf"!=rule||validator[rule](this),formError={name:this.name,rule:rule,show:shouldShow(this,rule)},isValid?(this.errors.$remove(rule),this.inForm()&&this.removeFormError(formError)):(shouldShow(this,rule)&&-1==this.errors.indexOf(rule)&&this.errors.push(rule),this.inForm()&&this.addFormError(formError,!this.pristine)));this.errors.length&&(this.hadErrors=!0)}},{"../../validation/rules/between.js":49,"../../validation/rules/digits.js":50,"../../validation/rules/email.js":51,"../../validation/rules/greaterThan.js":52,"../../validation/rules/integer.js":53,"../../validation/rules/max.js":54,"../../validation/rules/min.js":55,"../../validation/rules/number.js":56,"../../validation/rules/required.js":57,"../../validation/rules/requiredIf.js":58,"../../validation/rules/smallerThan.js":59,"../../validation/rules/url.js":60,merge:66}],19:[function(require,module,exports){module.exports={computed:{validationClasses:require("../computed/validation-classes"),hasFeedback:require("../computed/has-feedback"),feedbackIcon:require("../computed/feedback-icon"),validationError:require("../computed/validation-error"),success:require("../computed/success")}}},{"../computed/feedback-icon":1,"../computed/has-feedback":2,"../computed/success":3,"../computed/validation-classes":4,"../computed/validation-error":5}],20:[function(require,module,exports){var clone=require("clone");module.exports={data:function(){return{messages:{},shouldShow:!0,dirty:!1,pristine:!0,initialValue:clone(this.value),hadErrors:!1,errors:[]}}}},{clone:64}],21:[function(require,module,exports){module.exports={methods:{getMessage:require("../methods/get-message"),validateRemote:require("../methods/validate-remote"),validate:require("../methods/validate"),addFormError:require("../methods/add-form-error"),removeFormError:require("../methods/remove-form-error"),inForm:require("../methods/in-form")}}},{"../methods/add-form-error":13,"../methods/get-message":14,"../methods/in-form":15,"../methods/remove-form-error":16,"../methods/validate":18,"../methods/validate-remote":17}],22:[function(require,module,exports){module.exports={props:{name:{type:String,required:!0},value:{required:!1,"default":""},label:{type:String,required:!1},rules:{type:Object,required:!1,"default":function(){return{}}}}}},{}],23:[function(require,module,exports){var isEqual=require("../../helpers/is-equal");module.exports={ready:function(){var inForm=this.inForm();if(inForm){this.$watch("dirty",function(isDirty){isDirty?this.$parent.dirtyFields.push(this):this.$parent.dirtyFields.$remove(this)});var form=this.$parent,v=this.$parent.validation;if(v.rules&&v.rules.hasOwnProperty(this.name)&&(this.rules=v.rules[this.name]),"undefined"!=typeof v.messages&&v.messages.hasOwnProperty(this.name)&&(this.messages=v.messages[this.name]),this.validate(),this.rules.requiredIf&&!this.errors.length&&(this.shouldShow=!1),form.relatedFields.hasOwnProperty(this.name))var foreignField=form.getField(form.relatedFields[this.name])}this.$watch("value",function(newVal,oldVal){this.$dispatch("vue-formular.change::"+this.name,{value:newVal,oldValue:oldVal}),"undefined"!=typeof foreignField&&foreignField.validate(),this.dirty=!isEqual(this.value,this.initialValue),this.pristine=!1,inForm&&this.validate()},{deep:!0})}}},{"../../helpers/is-equal":28}],24:[function(require,module,exports){module.exports={props:["status"],template:require("../templates/status-bar.html"),methods:{isString:function(message){return"string"==typeof message},showError:function(error){if(error.hasOwnProperty("message"))return error.message;var field=this.$parent.getField(error.name);return field.getMessage(error.rule)},getLink:function(error){return"#"+error.name}},computed:{content:function(){return this.$parent.statusbarMessage&&!this.showableErrors.length?this.$parent.statusbarMessage:this.$parent.serverErrors.length&&!this.showableErrors.length?this.$parent.serverErrors:this.showableErrors.length?(this.$parent.status="danger",this.$parent.statusbarMessage="",this.$parent.serverErrors=[],this.showableErrors):""},showableErrors:function(){var errors=[];return this.$parent.options.showClientErrorsInStatusBar?(this.$parent.errors.forEach(function(error){error.show&&errors.push(error)}),errors):[]},errorText:function(){var texts=this.$parent.options.texts,count=this.showableErrors.length?this.showableErrors.length:this.$parent.serverErrors.length;return 1==count?texts.singleError:texts.errors.replace("{0}",count)}}}},{"../templates/status-bar.html":45}],25:[function(require,module,exports){module.exports={template:require("../templates/submit.html"),props:{text:{type:String,required:!1,"default":"Submit"}},computed:{disabled:function(){return this.$parent.pristine||this.$parent.errors.length}}}},{"../templates/submit.html":46}],26:[function(require,module,exports){module.exports=function(){return"form-horizontal"==this.options.layout?"col-sm-"+(12-this.options.labelWidth):""}},{}],27:[function(require,module,exports){module.exports=function(){return"form-horizontal"==this.options.layout?"col-sm-"+this.options.labelWidth:""}},{}],28:[function(require,module,exports){function arraysEqual(arr1,arr2){var equal=!0;return arr1.length!=arr2.length?!1:(arr1.forEach(function(item){"object"!=typeof item&&-1==arr2.indexOf(item)&&(equal=!1)}),equal)}module.exports=function(value1,value2){if(value1&&value1.format&&(value1=value1.format("YYYY-MM-DD")),value2&&value2.format&&(value2=value2.format("YYYY-MM-DD")),"object"!=typeof value1&&"object"!=typeof value2)return value1==value2;var what=Object.prototype.toString;if("[object Array]"==what.call(value1))return arraysEqual(value1,value2);if(value1&&value1.start&&value2&&value2.start){var value1start=value1.start.format?value1.start.format("YYYY-MM-DD"):value1.start,value1end=value1.end.format?value1.end.format("YYYY-MM-DD"):value1.end,value2start=value2.start.format?value2.start.format("YYYY-MM-DD"):value2.start,value2end=value2.end.format?value2.end.format("YYYY-MM-DD"):value2.end;return value1start==value2start&&value1end==value2end}return!1}},{}],29:[function(require,module,exports){require("../templates/buttons-list.html"),require("../templates/checkbox.html"),require("../templates/date.html"),require("../templates/file.html"),require("../templates/form-group.html"),require("../templates/form.html"),require("../templates/input.html"),require("../templates/select.html"),require("../templates/status-bar.html"),require("../templates/submit.html"),require("../templates/textarea.html"),module.exports=function(tpl,replacements,template){template||(tpl="../templates/"+tpl+".html",template=require(tpl));for(var replacement in replacements)template=template.replace("[["+replacement+"]]",replacements[replacement]);return template}},{"../templates/buttons-list.html":37,"../templates/checkbox.html":38,"../templates/date.html":39,"../templates/file.html":40,"../templates/form-group.html":41,"../templates/form.html":42,"../templates/input.html":43,"../templates/select.html":44,"../templates/status-bar.html":45,"../templates/submit.html":46,"../templates/textarea.html":47}],30:[function(require,module,exports){module.exports=function(){return this.charAt(0).toUpperCase()+this.slice(1)}},{}],31:[function(require,module,exports){var merge=require("merge");module.exports=function(){var data={};return this.dirtyFields.forEach(function(field){data[field.name]=field.value}),data=merge.recursive(data,this.options.additionalPayload)}},{merge:66}],32:[function(require,module,exports){module.exports=function(name){for(var res,i=0;i<this.$children.length;i++)if(this.$children[i].name===name){res=this.$children[i];break}return res}},{}],33:[function(require,module,exports){var clone=require("clone");module.exports=function(){this.dirtyFields.forEach(function(field){field.initialValue=clone(field.value),field.dirty=!1})}},{clone:64}],34:[function(require,module,exports){module.exports=function(){this.errors.forEach(function(error){var field=this.getField(error.name);-1==field.errors.indexOf(error.rule)&&(field.errors.push(error.rule),field.hadErrors=!0),error.show=!0}.bind(this))}},{}],35:[function(require,module,exports){module.exports=function(){if(this.errors.length>0)return this.showAllErrors(),!1;if(this.pristine)return!1;var data=this.formData();this.$dispatch("vue-formular.sending",data),this.status="info",this.statusbarMessage=this.options.texts.sending,this.$http[this.method.toLowerCase()](this.action,data).then(function(data){this.reinitForm(),this.$dispatch("vue-formular.sent",data),this.status="success",this.statusbarMessage="string"==typeof data.data?data.data:this.options.texts.sent}.bind(this))["catch"](function(response){this.$dispatch("vue-formular.invalid",response),this.status="danger";var errors=response.data;return"string"==typeof errors?void(this.statusbarMessage=errors):("object"==typeof errors&&errors.forEach(function(error,i){errors[i].show=!0}),this.statusbarMessage="",void(this.serverErrors=errors))}.bind(this))}},{}],36:[function(require,module,exports){module.exports=function(){var options={labelWidth:3,layout:"",showErrorsInStatusBar:!1,additionalPayload:{},customRules:{},texts:{sending:"Sending Form...",sent:"Form was successfully sent",singleError:"an error was found:",errors:"{0} errors were found:"}};return options.messages=require("../validation/messages/messages")(),options}},{"../validation/messages/messages":48}],37:[function(require,module,exports){module.exports='<div v-for="item in items" class="{{type}}">\n  <label>\n    <input v-model="value" name="{{name}}" type="{{type}}" value="{{item.value}}">\n    {{item.text}}\n  </label>\n</div>\n'},{}],38:[function(require,module,exports){module.exports='<input v-model="value" name="{{name}}" type="checkbox">\n\n'},{}],39:[function(require,module,exports){module.exports='<div class="VF-Field--Date__datepicker">\n    <i class="glyphicon glyphicon-calendar"></i>\n    <span class="VF-Field--Date__date">{{formattedDate}}</span> <b class="caret"></b>\n</div>\n'},{}],40:[function(require,module,exports){module.exports=' <input type="file" v-model="value" class="form-control" id="{{name}}" @change="validateRemote()">\n'},{}],41:[function(require,module,exports){module.exports=' <div v-show="shouldShow" id="{{name}}" class="VF VF-Field VF-Field--[[fieldType]] form-group" :class="validationClasses">\n\n   <label v-if="label" class="VF-Field__label control-label" :class="$parent.labelClass" for="{{name}}">{{{label}}}</label>\n\n <div class="VF-Field__wrapper" :class="$parent.fieldClass">\n  <slot name="beforeField"></slot>\n  [[field]]\n  <span v-if="hasFeedback" class="glyphicon glyphicon-{{feedbackIcon}} form-control-feedback" aria-hidden="true"></span>\n  <span v-if="validationError" class="VF-ValidationError help-block">{{validationError}}</span>\n  <slot name="afterField"></slot>\n</div>\n\n</div>\n'},{}],42:[function(require,module,exports){module.exports='<form action="{{action}}" method="{{method}}" class="{{options.layout}}" @submit.prevent="submit()" novalidate enctype="multipart/form-data">\n\n  <slot></slot>\n</form>\n'},{}],43:[function(require,module,exports){module.exports=' <input type="[[type]]" v-model="value" class="form-control"  placeholder="{{placeholder}}" @change="validateRemote()">\n'},{}],44:[function(require,module,exports){module.exports=' <select v-model="value" multiple={{multiple}} class="form-control" id="{{name}}">\n   <option v-if="!select2 && !multiple" value="">{{placeholder}}</option>\n   <option v-for="item in items" value="{{item.value}}">{{item.text}}</option>\n </select>\n'},{}],45:[function(require,module,exports){module.exports='<div v-if="content"  class="alert alert-{{$parent.status}}">\n <p v-if="isString(content)">{{content}}<p>\n <div v-if="!isString(content)">\n   <p>{{{errorText}}}<p>\n   <ul>\n     <li v-for="error in content"><a href="{{getLink(error)}}">{{showError(error)}}</a></li>\n   </ul>\n </div>\n</div>\n'},{}],46:[function(require,module,exports){module.exports='<div class="VF VF-Submit row">\n  <div class="col-md-12">\n  <slot name="beforeButton">\n  <button type="submit" class="VF-Submit__button btn btn-primary pull-right {{disabled?\'disabled\':\'\'}}">{{text}}</button>\n  <slot name="afterButton">\n  </div>\n</div>\n\n'},{}],47:[function(require,module,exports){module.exports='<textarea v-model.sync="value" id="{{name}}" class="form-control" @change="validateRemote()" placeholder="{{placeholder}}"></textarea>\n'},{}],48:[function(require,module,exports){module.exports=function(){return{required:"The :field field is required",number:"The :field field must be a number",integer:"The :field field must be an integer",digits:"The :field field must have digits only",email:"The :field field must be a valid email address",between:{string:"The field :field must contain between {0} and {1} characters",number:"The field :field must be a number between {0} and {1}"},min:{string:"The :field field must contain at least {0} characters",number:"The :field field must be equal to or greater than {0}"},max:{string:"The field :field must contain no more than {0} characters",number:"The field :field must be equal to or smaller than {0}"},remote:"Remote Error",requiredIf:"The field :field is required",url:"Please enter a valid URL",greaterThan:"The field :field must be greater than :relatedField",smallerThan:"The field :field must be smaller than :relatedField"}}},{}],49:[function(require,module,exports){module.exports=function(that){var value=that.rules.number||that.rules.integer?that.value:that.value.length;return value>=that.rules.between[0]&&value<=that.rules.between[1]}},{}],50:[function(require,module,exports){module.exports=function(that){return/^[0-9]*$/.test(that.value.trim())}},{}],51:[function(require,module,exports){module.exports=function(that){var re=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return!that.value.trim()||re.test(that.value)}},{}],52:[function(require,module,exports){module.exports=function(that){if(!that.value)return!0;var otherField=that.$parent.getField(that.rules.greaterThan);if(!otherField||!otherField.value)return!0;var value1=isNaN(that.value)||"object"==typeof that.value?that.value:parseFloat(that.value),value2=isNaN(otherField.value)||"object"==typeof otherField.value?otherField.value:parseFloat(otherField.value);return value1>value2}},{}],53:[function(require,module,exports){module.exports=function(that){return!isNaN(that.value)&&that.value%1===0}},{}],54:[function(require,module,exports){module.exports=function(that){var value=that.rules.number||that.rules.integer?that.value:that.value.length;return value<=that.rules.max}},{}],55:[function(require,module,exports){module.exports=function(that){var value=that.rules.number||that.rules.integer?that.value:that.value.length;return value>=that.rules.min}},{}],56:[function(require,module,exports){module.exports=function(that){return!isNaN(that.value)}},{}],57:[function(require,module,exports){module.exports=function(that){return!(!that.value||!("object"==typeof that.value||that.value.length>0))}},{}],58:[function(require,module,exports){function isRequired(values,otherFieldValue){if(!values)return!!otherFieldValue;var value="object"==typeof otherFieldValue?otherFieldValue:[otherFieldValue];return intersect(value,values).length}function intersect(a,b){for(var ai=0,bi=0,result=new Array;ai<a.length&&bi<b.length;)a[ai]<b[bi]?ai++:a[ai]>b[bi]?bi++:(result.push(a[ai]),ai++,bi++);return result}module.exports=function(that){if(!that.inForm())return!0;var params=that.rules.requiredIf.split(":"),otherField=params[0],values=params.length>1?params[1].split(","):!1,otherField=that.$parent.getField(otherField),required=isRequired(values,otherField.value);return that.shouldShow=required,that.value||!required}},{}],59:[function(require,module,exports){module.exports=function(that){if(!that.value)return!0;var otherField=that.$parent.getField(that.rules.smallerThan);if(!otherField||!otherField.value)return!0;var value1=isNaN(that.value)||"object"==typeof that.value?that.value:parseFloat(that.value),value2=isNaN(otherField.value)||"object"==typeof otherField.value?otherField.value:parseFloat(otherField.value);return value2>value1}},{}],60:[function(require,module,exports){module.exports=function(that){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(that.value.trim())}},{}],61:[function(require,module,exports){var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(exports){"use strict";function decode(elt){var code=elt.charCodeAt(0);return code===PLUS||code===PLUS_URL_SAFE?62:code===SLASH||code===SLASH_URL_SAFE?63:NUMBER>code?-1:NUMBER+10>code?code-NUMBER+26+26:UPPER+26>code?code-UPPER:LOWER+26>code?code-LOWER+26:void 0}function b64ToByteArray(b64){function push(v){arr[L++]=v}var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var len=b64.length;placeHolders="="===b64.charAt(len-2)?2:"="===b64.charAt(len-1)?1:0,arr=new Arr(3*b64.length/4-placeHolders),l=placeHolders>0?b64.length-4:b64.length;var L=0;for(i=0,j=0;l>i;i+=4,j+=3)tmp=decode(b64.charAt(i))<<18|decode(b64.charAt(i+1))<<12|decode(b64.charAt(i+2))<<6|decode(b64.charAt(i+3)),push((16711680&tmp)>>16),push((65280&tmp)>>8),push(255&tmp);return 2===placeHolders?(tmp=decode(b64.charAt(i))<<2|decode(b64.charAt(i+1))>>4,push(255&tmp)):1===placeHolders&&(tmp=decode(b64.charAt(i))<<10|decode(b64.charAt(i+1))<<4|decode(b64.charAt(i+2))>>2,push(tmp>>8&255),push(255&tmp)),arr}function uint8ToBase64(uint8){function encode(num){return lookup.charAt(num)}function tripletToBase64(num){return encode(num>>18&63)+encode(num>>12&63)+encode(num>>6&63)+encode(63&num)}var i,temp,length,extraBytes=uint8.length%3,output="";for(i=0,length=uint8.length-extraBytes;length>i;i+=3)temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output+=tripletToBase64(temp);switch(extraBytes){case 1:temp=uint8[uint8.length-1],output+=encode(temp>>2),output+=encode(temp<<4&63),output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1],output+=encode(temp>>10),output+=encode(temp>>4&63),output+=encode(temp<<2&63),output+="="}return output}var Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,PLUS="+".charCodeAt(0),SLASH="/".charCodeAt(0),NUMBER="0".charCodeAt(0),LOWER="a".charCodeAt(0),UPPER="A".charCodeAt(0),PLUS_URL_SAFE="-".charCodeAt(0),SLASH_URL_SAFE="_".charCodeAt(0);exports.toByteArray=b64ToByteArray,exports.fromByteArray=uint8ToBase64}("undefined"==typeof exports?this.base64js={}:exports)},{}],62:[function(require,module,exports){(function(global){"use strict";function typedArraySupport(){function Bar(){}try{var arr=new Uint8Array(1);return arr.foo=function(){return 42},arr.constructor=Bar,42===arr.foo()&&arr.constructor===Bar&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Buffer(arg){return this instanceof Buffer?(Buffer.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof arg?fromNumber(this,arg):"string"==typeof arg?fromString(this,arg,arguments.length>1?arguments[1]:"utf8"):fromObject(this,arg)):arguments.length>1?new Buffer(arg,arguments[1]):new Buffer(arg)}function fromNumber(that,length){if(that=allocate(that,0>length?0:0|checked(length)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;length>i;i++)that[i]=0;return that}function fromString(that,string,encoding){("string"!=typeof encoding||""===encoding)&&(encoding="utf8");var length=0|byteLength(string,encoding);return that=allocate(that,length),that.write(string,encoding),that}function fromObject(that,object){if(Buffer.isBuffer(object))return fromBuffer(that,object);if(isArray(object))return fromArray(that,object);if(null==object)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(object.buffer instanceof ArrayBuffer)return fromTypedArray(that,object);if(object instanceof ArrayBuffer)return fromArrayBuffer(that,object)}return object.length?fromArrayLike(that,object):fromJsonObject(that,object)}function fromBuffer(that,buffer){var length=0|checked(buffer.length);return that=allocate(that,length),buffer.copy(that,0,0,length),that}function fromArray(that,array){var length=0|checked(array.length);that=allocate(that,length);for(var i=0;length>i;i+=1)that[i]=255&array[i];return that}function fromTypedArray(that,array){var length=0|checked(array.length);that=allocate(that,length);for(var i=0;length>i;i+=1)that[i]=255&array[i];return that}function fromArrayBuffer(that,array){return Buffer.TYPED_ARRAY_SUPPORT?(array.byteLength,that=Buffer._augment(new Uint8Array(array))):that=fromTypedArray(that,new Uint8Array(array)),that}function fromArrayLike(that,array){var length=0|checked(array.length);
that=allocate(that,length);for(var i=0;length>i;i+=1)that[i]=255&array[i];return that}function fromJsonObject(that,object){var array,length=0;"Buffer"===object.type&&isArray(object.data)&&(array=object.data,length=0|checked(array.length)),that=allocate(that,length);for(var i=0;length>i;i+=1)that[i]=255&array[i];return that}function allocate(that,length){Buffer.TYPED_ARRAY_SUPPORT?(that=Buffer._augment(new Uint8Array(length)),that.__proto__=Buffer.prototype):(that.length=length,that._isBuffer=!0);var fromPool=0!==length&&length<=Buffer.poolSize>>>1;return fromPool&&(that.parent=rootParent),that}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function SlowBuffer(subject,encoding){if(!(this instanceof SlowBuffer))return new SlowBuffer(subject,encoding);var buf=new Buffer(subject,encoding);return delete buf.parent,buf}function byteLength(string,encoding){"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"binary":case"raw":case"raws":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if(start=0|start,end=void 0===end||end===1/0?this.length:0|end,encoding||(encoding="utf8"),0>start&&(start=0),end>this.length&&(end=this.length),start>=end)return"";for(;;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"binary":return binarySlice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;if(strLen%2!==0)throw new Error("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;length>i;i++){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))throw new Error("Invalid hex string");buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function binaryWrite(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;end>i;){var firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(end>=i+bytesPerSequence){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:128>firstByte&&(codePoint=firstByte);break;case 2:secondByte=buf[i+1],128===(192&secondByte)&&(tempCodePoint=(31&firstByte)<<6|63&secondByte,tempCodePoint>127&&(codePoint=tempCodePoint));break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128===(192&secondByte)&&128===(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte,tempCodePoint>2047&&(55296>tempCodePoint||tempCodePoint>57343)&&(codePoint=tempCodePoint));break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128===(192&secondByte)&&128===(192&thirdByte)&&128===(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte,tempCodePoint>65535&&1114112>tempCodePoint&&(codePoint=tempCodePoint))}}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return decodeCodePointsArray(res)}function decodeCodePointsArray(codePoints){var len=codePoints.length;if(MAX_ARGUMENTS_LENGTH>=len)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;len>i;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;end>i;i++)ret+=String.fromCharCode(127&buf[i]);return ret}function binarySlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;end>i;i++)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||0>start)&&(start=0),(!end||0>end||end>len)&&(end=len);for(var out="",i=start;end>i;i++)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!==0||0>offset)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError("buffer must be a Buffer instance");if(value>max||min>value)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){0>value&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);j>i;i++)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){0>value&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);j>i;i++)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(value>max||min>value)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range");if(0>offset)throw new RangeError("index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if(str=stringtrim(str).replace(INVALID_BASE64_RE,""),str.length<2)return"";for(;str.length%4!==0;)str+="=";return str}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function toHex(n){return 16>n?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||1/0;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;length>i;i++){if(codePoint=string.charCodeAt(i),codePoint>55295&&57344>codePoint){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(56320>codePoint){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,128>codePoint){if((units-=1)<0)break;bytes.push(codePoint)}else if(2048>codePoint){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(65536>codePoint){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(1114112>codePoint))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;i++)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);i++)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;length>i&&!(i+offset>=dst.length||i>=src.length);i++)dst[i+offset]=src[i];return i}var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("isarray");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.poolSize=8192;var rootParent={};Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT?(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array):(Buffer.prototype.length=void 0,Buffer.prototype.parent=void 0),Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);len>i&&a[i]===b[i];)++i;return i!==len&&(x=a[i],y=b[i]),y>x?-1:x>y?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError("list argument must be an Array of Buffers.");if(0===list.length)return new Buffer(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;i++)length+=list[i].length;var buf=new Buffer(length),pos=0;for(i=0;i<list.length;i++){var item=list[i];item.copy(buf,pos),pos+=item.length}return buf},Buffer.byteLength=byteLength,Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?0:Buffer.compare(this,b)},Buffer.prototype.indexOf=function(val,byteOffset){function arrayIndexOf(arr,val,byteOffset){for(var foundIndex=-1,i=0;byteOffset+i<arr.length;i++)if(arr[byteOffset+i]===val[-1===foundIndex?0:i-foundIndex]){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===val.length)return byteOffset+foundIndex}else foundIndex=-1;return-1}if(byteOffset>2147483647?byteOffset=2147483647:-2147483648>byteOffset&&(byteOffset=-2147483648),byteOffset>>=0,0===this.length)return-1;if(byteOffset>=this.length)return-1;if(0>byteOffset&&(byteOffset=Math.max(this.length+byteOffset,0)),"string"==typeof val)return 0===val.length?-1:String.prototype.indexOf.call(this,val,byteOffset);if(Buffer.isBuffer(val))return arrayIndexOf(this,val,byteOffset);if("number"==typeof val)return Buffer.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,val,byteOffset):arrayIndexOf(this,[val],byteOffset);throw new TypeError("val must be string, number or Buffer")},Buffer.prototype.get=function(offset){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(offset)},Buffer.prototype.set=function(v,offset){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(v,offset)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else if(isFinite(offset))offset=0|offset,isFinite(length)?(length=0|length,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=0|length,length=swap}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(0>length||0>offset)||offset>this.length)throw new RangeError("attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"binary":return binaryWrite(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=void 0===end?len:~~end,0>start?(start+=len,0>start&&(start=0)):start>len&&(start=len),0>end?(end+=len,0>end&&(end=0)):end>len&&(end=len),start>end&&(end=start);var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT)newBuf=Buffer._augment(this.subarray(start,end));else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;sliceLen>i;i++)newBuf[i]=this[i+start]}return newBuf.length&&(newBuf.parent=this.parent||this),newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){value=+value,offset=0|offset,byteLength=0|byteLength,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){value=+value,offset=0|offset,byteLength=0|byteLength,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0>value?1:0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0>value?1:0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),0>value&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),0>value&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&start>end&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(0>targetStart)throw new RangeError("targetStart out of bounds");if(0>start||start>=this.length)throw new RangeError("sourceStart out of bounds");if(0>end)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&targetStart>start&&end>targetStart)for(i=len-1;i>=0;i--)target[i+targetStart]=this[i+start];else if(1e3>len||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;len>i;i++)target[i+targetStart]=this[i+start];else target._set(this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(value,start,end){if(value||(value=0),start||(start=0),end||(end=this.length),start>end)throw new RangeError("end < start");if(end!==start&&0!==this.length){if(0>start||start>=this.length)throw new RangeError("start out of bounds");if(0>end||end>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof value)for(i=start;end>i;i++)this[i]=value;else{var bytes=utf8ToBytes(value.toString()),len=bytes.length;for(i=start;end>i;i++)this[i]=bytes[i%len]}return this}},Buffer.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(Buffer.TYPED_ARRAY_SUPPORT)return new Buffer(this).buffer;for(var buf=new Uint8Array(this.length),i=0,len=buf.length;len>i;i+=1)buf[i]=this[i];return buf.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var BP=Buffer.prototype;Buffer._augment=function(arr){return arr.constructor=Buffer,arr._isBuffer=!0,arr._set=arr.set,arr.get=BP.get,arr.set=BP.set,arr.write=BP.write,arr.toString=BP.toString,arr.toLocaleString=BP.toString,arr.toJSON=BP.toJSON,arr.equals=BP.equals,arr.compare=BP.compare,arr.indexOf=BP.indexOf,arr.copy=BP.copy,arr.slice=BP.slice,arr.readUIntLE=BP.readUIntLE,arr.readUIntBE=BP.readUIntBE,arr.readUInt8=BP.readUInt8,arr.readUInt16LE=BP.readUInt16LE,arr.readUInt16BE=BP.readUInt16BE,arr.readUInt32LE=BP.readUInt32LE,arr.readUInt32BE=BP.readUInt32BE,arr.readIntLE=BP.readIntLE,arr.readIntBE=BP.readIntBE,arr.readInt8=BP.readInt8,arr.readInt16LE=BP.readInt16LE,arr.readInt16BE=BP.readInt16BE,arr.readInt32LE=BP.readInt32LE,arr.readInt32BE=BP.readInt32BE,arr.readFloatLE=BP.readFloatLE,arr.readFloatBE=BP.readFloatBE,arr.readDoubleLE=BP.readDoubleLE,arr.readDoubleBE=BP.readDoubleBE,arr.writeUInt8=BP.writeUInt8,arr.writeUIntLE=BP.writeUIntLE,arr.writeUIntBE=BP.writeUIntBE,arr.writeUInt16LE=BP.writeUInt16LE,arr.writeUInt16BE=BP.writeUInt16BE,arr.writeUInt32LE=BP.writeUInt32LE,arr.writeUInt32BE=BP.writeUInt32BE,arr.writeIntLE=BP.writeIntLE,arr.writeIntBE=BP.writeIntBE,arr.writeInt8=BP.writeInt8,arr.writeInt16LE=BP.writeInt16LE,arr.writeInt16BE=BP.writeInt16BE,arr.writeInt32LE=BP.writeInt32LE,arr.writeInt32BE=BP.writeInt32BE,arr.writeFloatLE=BP.writeFloatLE,arr.writeFloatBE=BP.writeFloatBE,arr.writeDoubleLE=BP.writeDoubleLE,arr.writeDoubleBE=BP.writeDoubleBE,arr.fill=BP.fill,arr.inspect=BP.inspect,arr.toArrayBuffer=BP.toArrayBuffer,arr};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":61,ieee754:65,isarray:63}],63:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},{}],64:[function(require,module,exports){(function(Buffer){var clone=function(){"use strict";function clone(parent,circular,depth,prototype){function _clone(parent,depth){if(null===parent)return null;if(0==depth)return parent;var child,proto;if("object"!=typeof parent)return parent;if(clone.__isArray(parent))child=[];else if(clone.__isRegExp(parent))child=new RegExp(parent.source,__getRegExpFlags(parent)),parent.lastIndex&&(child.lastIndex=parent.lastIndex);else if(clone.__isDate(parent))child=new Date(parent.getTime());else{if(useBuffer&&Buffer.isBuffer(parent))return child=new Buffer(parent.length),parent.copy(child),child;"undefined"==typeof prototype?(proto=Object.getPrototypeOf(parent),child=Object.create(proto)):(child=Object.create(prototype),proto=prototype)}if(circular){var index=allParents.indexOf(parent);if(-1!=index)return allChildren[index];allParents.push(parent),allChildren.push(child)}for(var i in parent){var attrs;proto&&(attrs=Object.getOwnPropertyDescriptor(proto,i)),attrs&&null==attrs.set||(child[i]=_clone(parent[i],depth-1))}return child}var filter;"object"==typeof circular&&(depth=circular.depth,prototype=circular.prototype,filter=circular.filter,circular=circular.circular);var allParents=[],allChildren=[],useBuffer="undefined"!=typeof Buffer;return"undefined"==typeof circular&&(circular=!0),"undefined"==typeof depth&&(depth=1/0),_clone(parent,depth)}function __objToStr(o){return Object.prototype.toString.call(o)}function __isDate(o){return"object"==typeof o&&"[object Date]"===__objToStr(o)}function __isArray(o){return"object"==typeof o&&"[object Array]"===__objToStr(o)}function __isRegExp(o){return"object"==typeof o&&"[object RegExp]"===__objToStr(o)}function __getRegExpFlags(re){var flags="";return re.global&&(flags+="g"),re.ignoreCase&&(flags+="i"),re.multiline&&(flags+="m"),flags}return clone.clonePrototype=function(parent){if(null===parent)return null;var c=function(){};return c.prototype=parent,new c},clone.__objToStr=__objToStr,clone.__isDate=__isDate,clone.__isArray=__isArray,clone.__isRegExp=__isRegExp,clone.__getRegExpFlags=__getRegExpFlags,clone}();"object"==typeof module&&module.exports&&(module.exports=clone)}).call(this,require("buffer").Buffer)},{buffer:62}],65:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:(s?-1:1)*(1/0);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=0>value||0===value&&0>1/value?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],66:[function(require,module,exports){!function(isNode){function merge_recursive(base,extend){if("object"!==typeOf(base))return extend;for(var key in extend)"object"===typeOf(base[key])&&"object"===typeOf(extend[key])?base[key]=merge_recursive(base[key],extend[key]):base[key]=extend[key];return base}function merge(clone,recursive,argv){var result=argv[0],size=argv.length;(clone||"object"!==typeOf(result))&&(result={});for(var index=0;size>index;++index){var item=argv[index],type=typeOf(item);if("object"===type)for(var key in item){var sitem=clone?Public.clone(item[key]):item[key];recursive?result[key]=merge_recursive(result[key],sitem):result[key]=sitem}}return result}function typeOf(input){return{}.toString.call(input).slice(8,-1).toLowerCase()}var Public=function(clone){return merge(clone===!0,!1,arguments)},publicName="merge";Public.recursive=function(clone){return merge(clone===!0,!0,arguments)},Public.clone=function(input){var index,size,output=input,type=typeOf(input);if("array"===type)for(output=[],size=input.length,index=0;size>index;++index)output[index]=Public.clone(input[index]);else if("object"===type){output={};for(index in input)output[index]=Public.clone(input[index])}return output},isNode?module.exports=Public:window[publicName]=Public}("object"==typeof module&&module&&"object"==typeof module.exports&&module.exports)},{}],67:[function(require,module,exports){var _=require("../util");module.exports={request:function(request){return _.isFunction(request.beforeSend)&&request.beforeSend.call(this,request),request}}},{"../util":90}],68:[function(require,module,exports){function parseHeaders(str){var value,name,i,headers={};return _.isString(str)&&_.each(str.split("\n"),function(row){i=row.indexOf(":"),name=_.trim(_.toLower(row.slice(0,i))),value=_.trim(row.slice(i+1)),headers[name]?_.isArray(headers[name])?headers[name].push(value):headers[name]=[headers[name],value]:headers[name]=value}),headers}var _=require("../../util"),Promise=require("../../promise"),xhrClient=require("./xhr");module.exports=function(request){var response=(request.client||xhrClient)(request);return Promise.resolve(response).then(function(response){if(response.headers){var headers=parseHeaders(response.headers);response.headers=function(name){return name?headers[_.toLower(name)]:headers}}return response.ok=response.status>=200&&response.status<300,response})}},{"../../promise":83,"../../util":90,"./xhr":71}],69:[function(require,module,exports){
var _=require("../../util"),Promise=require("../../promise");module.exports=function(request){return new Promise(function(resolve){var handler,script,callback="_jsonp"+Math.random().toString(36).substr(2),response={request:request,data:null};request.params[request.jsonp]=callback,request.cancel=function(){handler({type:"cancel"})},script=document.createElement("script"),script.src=_.url(request),script.type="text/javascript",script.async=!0,window[callback]=function(data){response.data=data},handler=function(event){"load"===event.type&&null!==response.data?response.status=200:"error"===event.type?response.status=404:response.status=0,resolve(response),delete window[callback],document.body.removeChild(script)},script.onload=handler,script.onerror=handler,document.body.appendChild(script)})}},{"../../promise":83,"../../util":90}],70:[function(require,module,exports){var _=require("../../util"),Promise=require("../../promise");module.exports=function(request){return new Promise(function(resolve){var handler,xdr=new XDomainRequest,response={request:request};request.cancel=function(){xdr.abort()},xdr.open(request.method,_.url(request),!0),handler=function(event){response.data=xdr.responseText,response.status=xdr.status,response.statusText=xdr.statusText,resolve(response)},xdr.timeout=0,xdr.onload=handler,xdr.onabort=handler,xdr.onerror=handler,xdr.ontimeout=function(){},xdr.onprogress=function(){},xdr.send(request.data)})}},{"../../promise":83,"../../util":90}],71:[function(require,module,exports){var _=require("../../util"),Promise=require("../../promise");module.exports=function(request){return new Promise(function(resolve){var handler,xhr=new XMLHttpRequest,response={request:request};request.cancel=function(){xhr.abort()},xhr.open(request.method,_.url(request),!0),_.isPlainObject(request.xhr)&&_.extend(xhr,request.xhr),_.each(request.headers||{},function(value,header){xhr.setRequestHeader(header,value)}),handler=function(event){response.data=xhr.responseText,response.status=xhr.status,response.statusText=xhr.statusText,response.headers=xhr.getAllResponseHeaders(),resolve(response)},xhr.onload=handler,xhr.onabort=handler,xhr.onerror=handler,xhr.send(request.data)})}},{"../../promise":83,"../../util":90}],72:[function(require,module,exports){function crossOrigin(request){var requestUrl=_.url.parse(_.url(request));return requestUrl.protocol!==originUrl.protocol||requestUrl.host!==originUrl.host}var _=require("../util"),xdrClient=require("./client/xdr"),xhrCors="withCredentials"in new XMLHttpRequest,originUrl=_.url.parse(location.href);module.exports={request:function(request){return null===request.crossOrigin&&(request.crossOrigin=crossOrigin(request)),request.crossOrigin&&(xhrCors||(request.client=xdrClient),request.emulateHTTP=!1),request}}},{"../util":90,"./client/xdr":70}],73:[function(require,module,exports){var _=require("../util");module.exports={request:function(request){return request.method=request.method.toUpperCase(),request.headers=_.extend({},_.http.headers.common,request.crossOrigin?{}:_.http.headers.custom,_.http.headers[request.method.toLowerCase()],request.headers),_.isPlainObject(request.data)&&/^(GET|JSONP)$/i.test(request.method)&&(_.extend(request.params,request.data),delete request.data),request}}},{"../util":90}],74:[function(require,module,exports){function Http(url,options){var request,promise,client=Client;return Http.interceptors.forEach(function(handler){client=interceptor(handler,this.$vm)(client)},this),options=_.isObject(url)?url:_.extend({url:url},options),request=_.merge({},Http.options,this.$options,options),promise=client(request).bind(this.$vm).then(function(response){return response.ok?response:Promise.reject(response)},function(response){return response instanceof Error&&_.error(response),Promise.reject(response)}),request.success&&promise.success(request.success),request.error&&promise.error(request.error),promise}var _=require("../util"),Client=require("./client"),Promise=require("../promise"),interceptor=require("./interceptor"),jsonType={"Content-Type":"application/json"};Http.options={method:"get",data:"",params:{},headers:{},xhr:null,jsonp:"callback",beforeSend:null,crossOrigin:null,emulateHTTP:!1,emulateJSON:!1,timeout:0},Http.interceptors=[require("./before"),require("./timeout"),require("./jsonp"),require("./method"),require("./mime"),require("./header"),require("./cors")],Http.headers={put:jsonType,post:jsonType,patch:jsonType,"delete":jsonType,common:{Accept:"application/json, text/plain, */*"},custom:{"X-Requested-With":"XMLHttpRequest"}},["get","put","post","patch","delete","jsonp"].forEach(function(method){Http[method]=function(url,data,success,options){return _.isFunction(data)&&(options=success,success=data,data=void 0),_.isObject(success)&&(options=success,success=void 0),this(url,_.extend({method:method,data:data,success:success},options))}}),module.exports=_.http=Http},{"../promise":83,"../util":90,"./before":67,"./client":68,"./cors":72,"./header":73,"./interceptor":75,"./jsonp":76,"./method":77,"./mime":78,"./timeout":79}],75:[function(require,module,exports){function when(value,fulfilled,rejected){var promise=Promise.resolve(value);return arguments.length<2?promise:promise.then(fulfilled,rejected)}var _=require("../util"),Promise=require("../promise");module.exports=function(handler,vm){return function(client){return _.isFunction(handler)&&(handler=handler.call(vm,Promise)),function(request){return _.isFunction(handler.request)&&(request=handler.request.call(vm,request)),when(request,function(request){return when(client(request),function(response){return _.isFunction(handler.response)&&(response=handler.response.call(vm,response)),response})})}}}},{"../promise":83,"../util":90}],76:[function(require,module,exports){var jsonpClient=require("./client/jsonp");module.exports={request:function(request){return"JSONP"==request.method&&(request.client=jsonpClient),request}}},{"./client/jsonp":69}],77:[function(require,module,exports){module.exports={request:function(request){return request.emulateHTTP&&/^(PUT|PATCH|DELETE)$/i.test(request.method)&&(request.headers["X-HTTP-Method-Override"]=request.method,request.method="POST"),request}}},{}],78:[function(require,module,exports){var _=require("../util");module.exports={request:function(request){return request.emulateJSON&&_.isPlainObject(request.data)&&(request.headers["Content-Type"]="application/x-www-form-urlencoded",request.data=_.url.params(request.data)),_.isObject(request.data)&&/FormData/i.test(request.data.toString())&&delete request.headers["Content-Type"],_.isPlainObject(request.data)&&(request.data=JSON.stringify(request.data)),request},response:function(response){try{response.data=JSON.parse(response.data)}catch(e){}return response}}},{"../util":90}],79:[function(require,module,exports){module.exports=function(){var timeout;return{request:function(request){return request.timeout&&(timeout=setTimeout(function(){request.cancel()},request.timeout)),request},response:function(response){return clearTimeout(timeout),response}}}},{}],80:[function(require,module,exports){function install(Vue){var _=require("./util");_.config=Vue.config,_.warning=Vue.util.warn,_.nextTick=Vue.util.nextTick,Vue.url=require("./url"),Vue.http=require("./http"),Vue.resource=require("./resource"),Vue.Promise=require("./promise"),Object.defineProperties(Vue.prototype,{$url:{get:function(){return _.options(Vue.url,this,this.$options.url)}},$http:{get:function(){return _.options(Vue.http,this,this.$options.http)}},$resource:{get:function(){return Vue.resource.bind(this)}},$promise:{get:function(){return function(executor){return new Vue.Promise(executor,this)}.bind(this)}}})}window.Vue&&Vue.use(install),module.exports=install},{"./http":74,"./promise":83,"./resource":84,"./url":85,"./util":90}],81:[function(require,module,exports){function Promise(executor){this.state=PENDING,this.value=void 0,this.deferred=[];var promise=this;try{executor(function(x){promise.resolve(x)},function(r){promise.reject(r)})}catch(e){promise.reject(e)}}var _=require("../util"),RESOLVED=0,REJECTED=1,PENDING=2;Promise.reject=function(r){return new Promise(function(resolve,reject){reject(r)})},Promise.resolve=function(x){return new Promise(function(resolve,reject){resolve(x)})},Promise.all=function(iterable){return new Promise(function(resolve,reject){function resolver(i){return function(x){result[i]=x,count+=1,count===iterable.length&&resolve(result)}}var count=0,result=[];0===iterable.length&&resolve(result);for(var i=0;i<iterable.length;i+=1)Promise.resolve(iterable[i]).then(resolver(i),reject)})},Promise.race=function(iterable){return new Promise(function(resolve,reject){for(var i=0;i<iterable.length;i+=1)Promise.resolve(iterable[i]).then(resolve,reject)})};var p=Promise.prototype;p.resolve=function(x){var promise=this;if(promise.state===PENDING){if(x===promise)throw new TypeError("Promise settled with itself.");var called=!1;try{var then=x&&x.then;if(null!==x&&"object"==typeof x&&"function"==typeof then)return void then.call(x,function(x){called||promise.resolve(x),called=!0},function(r){called||promise.reject(r),called=!0})}catch(e){return void(called||promise.reject(e))}promise.state=RESOLVED,promise.value=x,promise.notify()}},p.reject=function(reason){var promise=this;if(promise.state===PENDING){if(reason===promise)throw new TypeError("Promise settled with itself.");promise.state=REJECTED,promise.value=reason,promise.notify()}},p.notify=function(){var promise=this;_.nextTick(function(){if(promise.state!==PENDING)for(;promise.deferred.length;){var deferred=promise.deferred.shift(),onResolved=deferred[0],onRejected=deferred[1],resolve=deferred[2],reject=deferred[3];try{promise.state===RESOLVED?resolve("function"==typeof onResolved?onResolved.call(void 0,promise.value):promise.value):promise.state===REJECTED&&("function"==typeof onRejected?resolve(onRejected.call(void 0,promise.value)):reject(promise.value))}catch(e){reject(e)}}})},p.then=function(onResolved,onRejected){var promise=this;return new Promise(function(resolve,reject){promise.deferred.push([onResolved,onRejected,resolve,reject]),promise.notify()})},p["catch"]=function(onRejected){return this.then(void 0,onRejected)},module.exports=Promise},{"../util":90}],82:[function(require,module,exports){exports.expand=function(url,params,variables){var tmpl=this.parse(url),expanded=tmpl.expand(params);return variables&&variables.push.apply(variables,tmpl.vars),expanded},exports.parse=function(template){var operators=["+","#",".","/",";","?","&"],variables=[];return{vars:variables,expand:function(context){return template.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(_,expression,literal){if(expression){var operator=null,values=[];if(-1!==operators.indexOf(expression.charAt(0))&&(operator=expression.charAt(0),expression=expression.substr(1)),expression.split(/,/g).forEach(function(variable){var tmp=/([^:\*]*)(?::(\d+)|(\*))?/.exec(variable);values.push.apply(values,exports.getValues(context,operator,tmp[1],tmp[2]||tmp[3])),variables.push(tmp[1])}),operator&&"+"!==operator){var separator=",";return"?"===operator?separator="&":"#"!==operator&&(separator=operator),(0!==values.length?operator:"")+values.join(separator)}return values.join(",")}return exports.encodeReserved(literal)})}}},exports.getValues=function(context,operator,key,modifier){var value=context[key],result=[];if(this.isDefined(value)&&""!==value)if("string"==typeof value||"number"==typeof value||"boolean"==typeof value)value=value.toString(),modifier&&"*"!==modifier&&(value=value.substring(0,parseInt(modifier,10))),result.push(this.encodeValue(operator,value,this.isKeyOperator(operator)?key:null));else if("*"===modifier)Array.isArray(value)?value.filter(this.isDefined).forEach(function(value){result.push(this.encodeValue(operator,value,this.isKeyOperator(operator)?key:null))},this):Object.keys(value).forEach(function(k){this.isDefined(value[k])&&result.push(this.encodeValue(operator,value[k],k))},this);else{var tmp=[];Array.isArray(value)?value.filter(this.isDefined).forEach(function(value){tmp.push(this.encodeValue(operator,value))},this):Object.keys(value).forEach(function(k){this.isDefined(value[k])&&(tmp.push(encodeURIComponent(k)),tmp.push(this.encodeValue(operator,value[k].toString())))},this),this.isKeyOperator(operator)?result.push(encodeURIComponent(key)+"="+tmp.join(",")):0!==tmp.length&&result.push(tmp.join(","))}else";"===operator?result.push(encodeURIComponent(key)):""!==value||"&"!==operator&&"?"!==operator?""===value&&result.push(""):result.push(encodeURIComponent(key)+"=");return result},exports.isDefined=function(value){return void 0!==value&&null!==value},exports.isKeyOperator=function(operator){return";"===operator||"&"===operator||"?"===operator},exports.encodeValue=function(operator,value,key){return value="+"===operator||"#"===operator?this.encodeReserved(value):encodeURIComponent(value),key?encodeURIComponent(key)+"="+value:value},exports.encodeReserved=function(str){return str.split(/(%[0-9A-Fa-f]{2})/g).map(function(part){return/%[0-9A-Fa-f]/.test(part)||(part=encodeURI(part)),part}).join("")}},{}],83:[function(require,module,exports){function Promise(executor,context){executor instanceof PromiseObj?this.promise=executor:this.promise=new PromiseObj(executor.bind(context)),this.context=context}var _=require("./util"),PromiseObj=window.Promise||require("./lib/promise");Promise.all=function(iterable,context){return new Promise(PromiseObj.all(iterable),context)},Promise.resolve=function(value,context){return new Promise(PromiseObj.resolve(value),context)},Promise.reject=function(reason,context){return new Promise(PromiseObj.reject(reason),context)},Promise.race=function(iterable,context){return new Promise(PromiseObj.race(iterable),context)};var p=Promise.prototype;p.bind=function(context){return this.context=context,this},p.then=function(fulfilled,rejected){return fulfilled&&fulfilled.bind&&this.context&&(fulfilled=fulfilled.bind(this.context)),rejected&&rejected.bind&&this.context&&(rejected=rejected.bind(this.context)),this.promise=this.promise.then(fulfilled,rejected),this},p["catch"]=function(rejected){return rejected&&rejected.bind&&this.context&&(rejected=rejected.bind(this.context)),this.promise=this.promise["catch"](rejected),this},p["finally"]=function(callback){return this.then(function(value){return callback.call(this),value},function(reason){return callback.call(this),PromiseObj.reject(reason)})},p.success=function(callback){return _.warn("The `success` method has been deprecated. Use the `then` method instead."),this.then(function(response){return callback.call(this,response.data,response.status,response)||response})},p.error=function(callback){return _.warn("The `error` method has been deprecated. Use the `catch` method instead."),this["catch"](function(response){return callback.call(this,response.data,response.status,response)||response})},p.always=function(callback){_.warn("The `always` method has been deprecated. Use the `finally` method instead.");var cb=function(response){return callback.call(this,response.data,response.status,response)||response};return this.then(cb,cb)},module.exports=Promise},{"./lib/promise":81,"./util":90}],84:[function(require,module,exports){function Resource(url,params,actions,options){var self=this,resource={};return actions=_.extend({},Resource.actions,actions),_.each(actions,function(action,name){action=_.merge({url:url,params:params||{}},options,action),resource[name]=function(){return(self.$http||_.http)(opts(action,arguments))}}),resource}function opts(action,args){var data,success,error,options=_.extend({},action),params={};switch(args.length){case 4:error=args[3],success=args[2];case 3:case 2:if(!_.isFunction(args[1])){params=args[0],data=args[1],success=args[2];break}if(_.isFunction(args[0])){success=args[0],error=args[1];break}success=args[1],error=args[2];case 1:_.isFunction(args[0])?success=args[0]:/^(POST|PUT|PATCH)$/i.test(options.method)?data=args[0]:params=args[0];break;case 0:break;default:throw"Expected up to 4 arguments [params, data, success, error], got "+args.length+" arguments"}return options.data=data,options.params=_.extend({},options.params,params),success&&(options.success=success),error&&(options.error=error),options}var _=require("./util");Resource.actions={get:{method:"GET"},save:{method:"POST"},query:{method:"GET"},update:{method:"PUT"},remove:{method:"DELETE"},"delete":{method:"DELETE"}},module.exports=_.resource=Resource},{"./util":90}],85:[function(require,module,exports){function Url(url,params){var transform,options=url;return _.isString(url)&&(options={url:url,params:params}),options=_.merge({},Url.options,this.$options,options),Url.transforms.forEach(function(handler){transform=factory(handler,transform,this.$vm)},this),transform(options)}function factory(handler,next,vm){return function(options){return handler.call(vm,options,next)}}function serialize(params,obj,scope){var hash,array=_.isArray(obj),plain=_.isPlainObject(obj);_.each(obj,function(value,key){hash=_.isObject(value)||_.isArray(value),scope&&(key=scope+"["+(plain||hash?key:"")+"]"),!scope&&array?params.add(value.name,value.value):hash?serialize(params,value,key):params.add(key,value)})}var _=require("../util"),ie=document.documentMode,el=document.createElement("a");Url.options={url:"",root:null,params:{}},Url.transforms=[require("./template"),require("./legacy"),require("./query"),require("./root")],Url.params=function(obj){var params=[],escape=encodeURIComponent;return params.add=function(key,value){_.isFunction(value)&&(value=value()),null===value&&(value=""),this.push(escape(key)+"="+escape(value))},serialize(params,obj),params.join("&").replace(/%20/g,"+")},Url.parse=function(url){return ie&&(el.href=url,url=el.href),el.href=url,{href:el.href,protocol:el.protocol?el.protocol.replace(/:$/,""):"",port:el.port,host:el.host,hostname:el.hostname,pathname:"/"===el.pathname.charAt(0)?el.pathname:"/"+el.pathname,search:el.search?el.search.replace(/^\?/,""):"",hash:el.hash?el.hash.replace(/^#/,""):""}},module.exports=_.url=Url},{"../util":90,"./legacy":86,"./query":87,"./root":88,"./template":89}],86:[function(require,module,exports){function encodeUriSegment(value){return encodeUriQuery(value,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(value,spaces){return encodeURIComponent(value).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,spaces?"%20":"+")}var _=require("../util");module.exports=function(options,next){var variables=[],url=next(options);return url=url.replace(/(\/?):([a-z]\w*)/gi,function(match,slash,name){return _.warn("The `:"+name+"` parameter syntax has been deprecated. Use the `{"+name+"}` syntax instead."),options.params[name]?(variables.push(name),slash+encodeUriSegment(options.params[name])):""}),variables.forEach(function(key){delete options.params[key]}),url}},{"../util":90}],87:[function(require,module,exports){var _=require("../util");module.exports=function(options,next){var urlParams=Object.keys(_.url.options.params),query={},url=next(options);return _.each(options.params,function(value,key){-1===urlParams.indexOf(key)&&(query[key]=value)}),query=_.url.params(query),query&&(url+=(-1==url.indexOf("?")?"?":"&")+query),url}},{"../util":90}],88:[function(require,module,exports){var _=require("../util");module.exports=function(options,next){var url=next(options);return _.isString(options.root)&&!url.match(/^(https?:)?\//)&&(url=options.root+"/"+url),url}},{"../util":90}],89:[function(require,module,exports){var UrlTemplate=require("../lib/url-template");module.exports=function(options){var variables=[],url=UrlTemplate.expand(options.url,options.params,variables);return variables.forEach(function(key){delete options.params[key]}),url}},{"../lib/url-template":82}],90:[function(require,module,exports){function merge(target,source,deep){for(var key in source)deep&&(_.isPlainObject(source[key])||_.isArray(source[key]))?(_.isPlainObject(source[key])&&!_.isPlainObject(target[key])&&(target[key]={}),_.isArray(source[key])&&!_.isArray(target[key])&&(target[key]=[]),merge(target[key],source[key],deep)):void 0!==source[key]&&(target[key]=source[key])}var _=exports,array=[],console=window.console;_.warn=function(msg){console&&_.warning&&(!_.config.silent||_.config.debug)&&console.warn("[VueResource warn]: "+msg)},_.error=function(msg){console&&console.error(msg)},_.trim=function(str){return str.replace(/^\s*|\s*$/g,"")},_.toLower=function(str){return str?str.toLowerCase():""},_.isArray=Array.isArray,_.isString=function(val){return"string"==typeof val},_.isFunction=function(val){return"function"==typeof val},_.isObject=function(obj){return null!==obj&&"object"==typeof obj},_.isPlainObject=function(obj){return _.isObject(obj)&&Object.getPrototypeOf(obj)==Object.prototype},_.options=function(fn,obj,options){return options=options||{},_.isFunction(options)&&(options=options.call(obj)),_.merge(fn.bind({$vm:obj,$options:options}),fn,{$options:options})},_.each=function(obj,iterator){var i,key;if("number"==typeof obj.length)for(i=0;i<obj.length;i++)iterator.call(obj[i],obj[i],i);else if(_.isObject(obj))for(key in obj)obj.hasOwnProperty(key)&&iterator.call(obj[key],obj[key],key);return obj},_.defaults=function(target,source){for(var key in source)void 0===target[key]&&(target[key]=source[key]);return target},_.extend=function(target){var args=array.slice.call(arguments,1);return args.forEach(function(arg){merge(target,arg)}),target},_.merge=function(target){var args=array.slice.call(arguments,1);return args.forEach(function(arg){merge(target,arg,!0)}),target}},{}],91:[function(require,module,exports){String.prototype.ucfirst=require("./lib/helpers/ucfirst");var merge=require("merge");exports.install=function(Vue,globalOptions){Vue.use(require("vue-resource"));var vfForm={template:require("./lib/templates/form.html"),props:{action:{type:String,required:!0},method:{type:String,required:!1,"default":"POST"},validation:{type:Object,required:!1,"default":function(){return{}}},options:{type:Object,required:!1,"default":function(){return{}}}},created:function(){if(this.validation&&this.validation.rules)for(var field in this.validation.rules)for(var rule in this.validation.rules[field])if(["requiredIf","smallerThan","greaterThan"].indexOf(rule)>-1){field=field.split(":")[0];var foreignField=this.validation.rules[field][rule].split(":")[0];this.relatedFields[foreignField]=field}},ready:function(){globalOptions=globalOptions?globalOptions:{};var defaultOptions=require("./lib/options/options")(),options=merge.recursive(defaultOptions,globalOptions);this.options=merge.recursive(options,this.options)},data:function(){return{isForm:!0,dirtyFields:[],errors:[],serverErrors:[],relatedFields:{},status:"danger",statusbarMessage:""}},computed:{labelClass:require("./lib/computed/label-class"),fieldClass:require("./lib/computed/field-class"),pristine:function(){return 0==this.dirtyFields.length}},methods:{submit:require("./lib/methods/submit"),formData:require("./lib/methods/form-data"),getField:require("./lib/methods/get-field"),showAllErrors:require("./lib/methods/show-all-errors"),reinitForm:require("./lib/methods/reinit-form")}};Vue.component("vf-form",vfForm),Vue.component("vf-text",require("./lib/components/fields/input")("input",{type:"text"})),Vue.component("vf-email",require("./lib/components/fields/input")("input",{type:"email"})),Vue.component("vf-number",require("./lib/components/fields/input")("input",{type:"number"})),Vue.component("vf-password",require("./lib/components/fields/input")("input",{type:"password"})),Vue.component("vf-file",require("./lib/components/fields/file")),Vue.component("vf-textarea",require("./lib/components/fields/textarea")),Vue.component("vf-select",require("./lib/components/fields/select")),Vue.component("vf-buttons-list",require("./lib/components/fields/buttons-list")),Vue.component("vf-date",require("./lib/components/fields/date")),Vue.component("vf-checkbox",require("./lib/components/fields/checkbox")),Vue.component("vf-status-bar",require("./lib/components/status-bar")),Vue.component("vf-submit",require("./lib/components/submit"))}},{"./lib/components/fields/buttons-list":6,"./lib/components/fields/checkbox":7,"./lib/components/fields/date":8,"./lib/components/fields/file":9,"./lib/components/fields/input":10,"./lib/components/fields/select":11,"./lib/components/fields/textarea":12,"./lib/components/status-bar":24,"./lib/components/submit":25,"./lib/computed/field-class":26,"./lib/computed/label-class":27,"./lib/helpers/ucfirst":30,"./lib/methods/form-data":31,"./lib/methods/get-field":32,"./lib/methods/reinit-form":33,"./lib/methods/show-all-errors":34,"./lib/methods/submit":35,"./lib/options/options":36,"./lib/templates/form.html":42,merge:66,"vue-resource":80}]},{},[91])(91)});
